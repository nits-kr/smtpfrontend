import{u as F,r as b,h as M,j as e,i as R,k as D,l as U,m as E,n as A,y,o as g,p as k,g as C,q as L,s as O}from"./index-DeMRtVII.js";import{B as S}from"./Button-cvQKScYr.js";import{I as j}from"./Input-Bkn62VPZ.js";import{C as q}from"./Card-CDI5dPTj.js";import{b as P}from"./campaignsApi-CcARnCWt.js";const T=()=>{const{register:s,formState:{errors:i}}=g();return e.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-4 duration-300",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Step 1: Campaign Setup"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Campaign Search"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",className:"flex-grow bg-slate-950 border border-slate-700 rounded p-2 text-white focus:outline-none focus:border-blue-500",placeholder:"Search campaigns..."}),e.jsx("button",{type:"button",className:"px-4 py-2 bg-slate-800 hover:bg-slate-700 text-slate-200 rounded transition-colors border border-slate-600",children:"Load"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Campaign Template"}),e.jsxs("select",{...s("template"),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white",children:[e.jsx("option",{value:"",children:"None"}),e.jsx("option",{value:"pptrom-email",children:"PPTrom-Email"}),e.jsx("option",{value:"newsletter",children:"Newsletter Template"}),e.jsx("option",{value:"promotional",children:"Promotional Template"})]})]})]}),e.jsx(j,{label:"Campaign Name",...s("name",{required:"Campaign Name is required"}),error:i.name,placeholder:"e.g. Monthly Newsletter - Jan 2026"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Description (Optional)"}),e.jsx("textarea",{...s("description"),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white h-24 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"Internal reference notes..."})]})]})},V=()=>{const{register:s,watch:i,setValue:c,formState:{errors:t}}=g(),l=i("recipientsText"),[a,m]=b.useState({total:0,valid:0,invalid:0,duplicates:0});b.useEffect(()=>{if(!l){m({total:0,valid:0,invalid:0,duplicates:0});return}const n=l.split(/[\n,;]+/).map(N=>N.trim()).filter(Boolean),r=n.length,o=new Set(n),u=r-o.size,d=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;let h=0,p=0;o.forEach(N=>{const f=N.split(":"),I=f.length>1?f[1]:f[0];d.test(I)?h++:p++});const w={total:r,valid:h,invalid:p,duplicates:u};m(w),c("recipientStats",w,{shouldValidate:!0})},[l,c]);const x=n=>{const r=n.target.files[0];if(!r)return;const o=new FileReader;o.onload=u=>{c("recipientsText",u.target.result||"",{shouldValidate:!0})},o.readAsText(r)};return e.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-4 duration-300",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Step 2: Add Recipients"}),e.jsx("input",{type:"hidden",...s("recipientStats",{validate:n=>n&&n.valid>0||"Please add at least one valid recipient"})}),t.recipientStats&&e.jsx("p",{className:"text-red-400 text-sm font-bold bg-red-900/20 p-2 rounded",children:t.recipientStats.message}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-slate-800 p-4 rounded border border-slate-700",children:[e.jsx("div",{className:"text-sm text-slate-400",children:"Total Lines"}),e.jsx("div",{className:"text-2xl font-bold text-blue-400",children:a.total})]}),e.jsxs("div",{className:"bg-slate-800 p-4 rounded border border-slate-700",children:[e.jsx("div",{className:"text-sm text-slate-400",children:"Valid Emails"}),e.jsx("div",{className:"text-2xl font-bold text-green-400",children:a.valid})]}),e.jsxs("div",{className:"bg-slate-800 p-4 rounded border border-slate-700",children:[e.jsx("div",{className:"text-sm text-slate-400",children:"Invalid"}),e.jsx("div",{className:"text-2xl font-bold text-red-400",children:a.invalid})]}),e.jsxs("div",{className:"bg-slate-800 p-4 rounded border border-slate-700",children:[e.jsx("div",{className:"text-sm text-slate-400",children:"Duplicates Removed"}),e.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:a.duplicates})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Paste Emails or IPs (One per line or comma/semicolon separated)"}),e.jsx("textarea",{...s("recipientsText",{required:"Please enter recipients"}),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white h-48 font-mono text-sm focus:outline-none focus:border-blue-500",placeholder:`user@example.com
192.168.1.1:admin@test.com
another@domain.com`}),t.recipientsText&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:t.recipientsText.message})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",id:"csvUpload",className:"hidden",accept:".csv,.txt",onChange:x}),e.jsxs("label",{htmlFor:"csvUpload",className:"flex items-center gap-2 px-4 py-2 bg-slate-800 hover:bg-slate-700 text-slate-200 rounded cursor-pointer transition-colors border border-slate-600",children:[e.jsx(O,{}),"Upload Text/CSV"]})]}),e.jsx("button",{type:"button",className:"flex items-center gap-2 px-4 py-2 bg-slate-800 hover:bg-slate-700 text-slate-200 rounded transition-colors border border-slate-600",onClick:()=>{c("recipientsText","")},children:"Clear All"}),e.jsx("button",{type:"button",className:"flex items-center gap-2 px-4 py-2 bg-slate-800 hover:bg-slate-700 text-slate-200 rounded transition-colors border border-slate-600",onClick:()=>{c("recipientsText",`test1@example.com
test2@domain.com
192.168.1.1:admin@test.com`)},children:"Load Sample"}),e.jsx("span",{className:"text-xs text-slate-500",children:"Supported formats: .txt, .csv (one email per line)"})]})]})},H=()=>{const{register:s,watch:i,formState:{errors:c}}=g(),[t,l]=b.useState(!1),[a,m]=b.useState(!1),[x,n]=b.useState(!1),r=i("contentType");return i("encoding"),e.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-4 duration-300",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Step 3: Sender Configuration"}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("button",{type:"button",onClick:()=>m(!a),className:"flex items-center justify-between w-full p-3 sm:p-4 bg-slate-800 hover:bg-slate-700 text-slate-200 rounded border border-slate-700 transition-colors text-sm sm:text-base",children:[e.jsx("span",{className:"font-medium",children:"Settings"}),e.jsx("span",{className:`transform transition-transform ${a?"rotate-180":""}`,children:"▼"})]}),a&&e.jsxs("div",{className:"mt-2 p-3 sm:p-4 bg-slate-900/50 border border-slate-700 rounded space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 xs:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-slate-400 mb-1",children:"Data File"}),e.jsx("input",{type:"text",...s("dataFile"),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm",placeholder:"Data file"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-slate-400 mb-1",children:"Total Send"}),e.jsx("input",{type:"number",...s("totalSend"),min:"0",className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-slate-400 mb-1",children:"Limit_to_Send"}),e.jsx("input",{type:"number",...s("limitToSend"),min:"0",className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-slate-400 mb-1",children:"Sleep Time"}),e.jsx("input",{type:"number",...s("sleepTime"),min:"0",className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm",placeholder:"Sec"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 xs:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-slate-400 mb-1",children:"Offer ID"}),e.jsx("input",{type:"text",...s("offerId"),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm",placeholder:"Offer ID"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-slate-400 mb-1",children:"Template Name"}),e.jsx("input",{type:"text",...s("templateName"),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm",placeholder:"Template name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-slate-400 mb-1",children:"Domain"}),e.jsx("input",{type:"text",...s("domain"),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm",placeholder:"Domain"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-slate-400 mb-1",children:"Wait Time"}),e.jsx("input",{type:"number",...s("waitTime"),min:"0",className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm",placeholder:"Sec"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 xs:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-slate-400 mb-1",children:"Message ID"}),e.jsx("input",{type:"text",...s("messageId"),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm",placeholder:"Message ID"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-slate-400 mb-1",children:"Reply to"}),e.jsx("input",{type:"text",...s("replyToSetting"),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm",placeholder:"Reply to"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-slate-400 mb-1",children:"XMAILER"}),e.jsx("input",{type:"text",...s("xmailer"),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm",placeholder:"XMAILER"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-slate-400 mb-1",children:"Reply to"}),e.jsxs("div",{className:"flex gap-3 sm:gap-4 mt-2",children:[e.jsxs("label",{className:"flex items-center gap-1 sm:gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",...s("replyToEnabled"),value:"yes",className:"accent-blue-500 w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{className:"text-xs sm:text-sm text-slate-300",children:"YES"})]}),e.jsxs("label",{className:"flex items-center gap-1 sm:gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",...s("replyToEnabled"),value:"no",className:"accent-blue-500 w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{className:"text-xs sm:text-sm text-slate-300",children:"NO"})]})]})]})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("button",{type:"button",onClick:()=>n(!x),className:"flex items-center justify-between w-full p-3 sm:p-4 bg-slate-800 hover:bg-slate-700 text-slate-200 rounded border border-slate-700 transition-colors text-sm sm:text-base",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"Space Sending"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("input",{type:"checkbox",...s("spaceSendingEnabled"),className:"accent-blue-500 w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{className:"text-xs text-slate-300",children:"Space S"})]})]}),e.jsx("span",{className:`transform transition-transform ${x?"rotate-180":""}`,children:"▼"})]}),x&&e.jsxs("div",{className:"mt-2 p-3 sm:p-4 bg-slate-900/50 border border-slate-700 rounded space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-slate-400 mb-1",children:"Limit_to_Send"}),e.jsx("input",{type:"number",...s("spaceLimitToSend"),min:"0",className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-slate-400 mb-1",children:"Sleep Time"}),e.jsx("input",{type:"number",...s("spaceSleepTime"),min:"0",className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm",placeholder:"Sec"})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("div",{className:"flex gap-2 w-full",children:[e.jsx("button",{type:"button",className:"flex-1 px-3 py-2 bg-green-600 hover:bg-green-700 text-white rounded transition-colors text-xs sm:text-sm",children:"Start"}),e.jsx("button",{type:"button",className:"flex-1 px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded transition-colors text-xs sm:text-sm",children:"Stop"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-slate-400 mb-1",children:"Offer ID"}),e.jsx("input",{type:"text",...s("spaceOfferId"),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm",placeholder:"Offer ID"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-slate-400 mb-1",children:"Template Name"}),e.jsx("input",{type:"text",...s("spaceTemplateName"),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm",placeholder:"Template"})]}),e.jsx("div",{className:"hidden lg:block"})," "]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-slate-400 mb-1",children:"Domain"}),e.jsx("input",{type:"text",...s("spaceDomain"),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm",placeholder:"Domain"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-slate-400 mb-1",children:"Wait Time"}),e.jsx("input",{type:"number",...s("spaceWaitTime"),min:"0",className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm",placeholder:"Sec"})]}),e.jsx("div",{className:"hidden lg:block"})," "]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-slate-400 mb-1",children:"Message ID"}),e.jsx("input",{type:"text",...s("spaceMessageId"),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm",placeholder:"Message ID"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-slate-400 mb-1",children:"Reply to"}),e.jsx("input",{type:"text",...s("spaceReplyTo"),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm",placeholder:"Reply to"})]}),e.jsx("div",{className:"hidden lg:block"})," "]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-slate-400 mb-1",children:"XMAILER"}),e.jsx("input",{type:"text",...s("spaceXmailer"),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm",placeholder:"XMAILER"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-slate-400 mb-1",children:"XMAILER"}),e.jsx("input",{type:"text",...s("spaceXmailer2"),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm",placeholder:"XMAILER"})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("div",{className:"flex gap-3 sm:gap-4 w-full",children:[e.jsxs("label",{className:"flex items-center gap-1 sm:gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",...s("spaceSending"),value:"yes",className:"accent-blue-500 w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{className:"text-xs sm:text-sm text-slate-300",children:"YES"})]}),e.jsxs("label",{className:"flex items-center gap-1 sm:gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",...s("spaceSending"),value:"no",className:"accent-blue-500 w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{className:"text-xs sm:text-sm text-slate-300",children:"NO"})]})]})})]})]})]}),e.jsxs("div",{className:"mb-6 p-3 sm:p-4 bg-slate-900/50 border border-slate-700 rounded",children:[e.jsx("h3",{className:"text-sm sm:text-md font-semibold text-white mb-3",children:"Additional Header"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"From Email Address"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx("div",{className:"flex-grow",children:e.jsx(j,{...s("fromEmail",{required:"From Email is required",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Please enter a valid email address"}}),error:c.fromEmail,placeholder:"support@yourdomain.com"})}),e.jsxs("div",{className:"flex gap-1 sm:flex-nowrap",children:[e.jsxs("label",{className:"flex items-center gap-1 px-2 sm:px-3 py-2 bg-slate-800 border border-slate-700 rounded cursor-pointer",children:[e.jsx("input",{type:"radio",...s("subjectEncoding"),value:"q",className:"accent-blue-500"}),e.jsx("span",{className:"text-xs sm:text-sm text-slate-300",children:"UTF8-Q"})]}),e.jsxs("label",{className:"flex items-center gap-1 px-2 sm:px-3 py-2 bg-slate-800 border border-slate-700 rounded cursor-pointer",children:[e.jsx("input",{type:"radio",...s("subjectEncoding"),value:"b",className:"accent-blue-500"}),e.jsx("span",{className:"text-xs sm:text-sm text-slate-300",children:"UTF8-B"})]}),e.jsxs("label",{className:"flex items-center gap-1 px-2 sm:px-3 py-2 bg-slate-800 border border-slate-700 rounded cursor-pointer",children:[e.jsx("input",{type:"radio",...s("subjectEncoding"),value:"reset",className:"accent-blue-500",defaultChecked:!0}),e.jsx("span",{className:"text-xs sm:text-sm text-slate-300",children:"RESET"})]})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Subject"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx("div",{className:"flex-grow",children:e.jsx(j,{...s("subject",{required:"Subject is required"}),error:c.subject,placeholder:"Don't miss out on this offer!"})}),e.jsxs("div",{className:"flex gap-1 sm:flex-nowrap",children:[e.jsxs("label",{className:"flex items-center gap-1 px-2 sm:px-3 py-2 bg-slate-800 border border-slate-700 rounded cursor-pointer",children:[e.jsx("input",{type:"radio",...s("subjectEncoding"),value:"q",className:"accent-blue-500"}),e.jsx("span",{className:"text-xs sm:text-sm text-slate-300",children:"UTF8-Q"})]}),e.jsxs("label",{className:"flex items-center gap-1 px-2 sm:px-3 py-2 bg-slate-800 border border-slate-700 rounded cursor-pointer",children:[e.jsx("input",{type:"radio",...s("subjectEncoding"),value:"b",className:"accent-blue-500"}),e.jsx("span",{className:"text-xs sm:text-sm text-slate-300",children:"UTF8-B"})]}),e.jsxs("label",{className:"flex items-center gap-1 px-2 sm:px-3 py-2 bg-slate-800 border border-slate-700 rounded cursor-pointer",children:[e.jsx("input",{type:"radio",...s("subjectEncoding"),value:"reset",className:"accent-blue-500",defaultChecked:!0}),e.jsx("span",{className:"text-xs sm:text-sm text-slate-300",children:"RESET"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"From Name"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx("div",{className:"flex-grow",children:e.jsx(j,{...s("senderName"),placeholder:"e.g. Support Team"})}),e.jsxs("div",{className:"flex gap-1 sm:flex-nowrap",children:[e.jsxs("label",{className:"flex items-center gap-1 px-2 sm:px-3 py-2 bg-slate-800 border border-slate-700 rounded cursor-pointer",children:[e.jsx("input",{type:"radio",...s("senderNameEncoding"),value:"q",className:"accent-blue-500"}),e.jsx("span",{className:"text-xs sm:text-sm text-slate-300",children:"UTF8-Q"})]}),e.jsxs("label",{className:"flex items-center gap-1 px-2 sm:px-3 py-2 bg-slate-800 border border-slate-700 rounded cursor-pointer",children:[e.jsx("input",{type:"radio",...s("senderNameEncoding"),value:"b",className:"accent-blue-500"}),e.jsx("span",{className:"text-xs sm:text-sm text-slate-300",children:"UTF8-B"})]}),e.jsxs("label",{className:"flex items-center gap-1 px-2 sm:px-3 py-2 bg-slate-800 border border-slate-700 rounded cursor-pointer",children:[e.jsx("input",{type:"radio",...s("senderNameEncoding"),value:"reset",className:"accent-blue-500",defaultChecked:!0}),e.jsx("span",{className:"text-xs sm:text-sm text-slate-300",children:"RESET"})]})]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Email Format"}),e.jsx("div",{className:"flex flex-wrap bg-slate-800 rounded p-1 w-fit max-w-full",children:["plain","html","mime"].map(o=>e.jsxs("label",{className:`
                flex items-center gap-1 sm:gap-2 px-2 sm:px-4 py-1 sm:py-2 cursor-pointer rounded text-xs sm:text-sm
                ${r===o?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}
              `,children:[e.jsx("input",{type:"radio",...s("contentType"),value:o,className:"hidden"}),o.toUpperCase()]},o))})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{type:"button",className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-4 py-1 sm:py-2 bg-slate-800 hover:bg-slate-700 text-slate-200 rounded transition-colors border border-slate-600 text-xs sm:text-sm",children:[e.jsx(C,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Preview"]}),e.jsxs("button",{type:"button",className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-4 py-1 sm:py-2 bg-slate-800 hover:bg-slate-700 text-slate-200 rounded transition-colors border border-slate-600 text-xs sm:text-sm",children:[e.jsx(k,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"EDITOR"]}),e.jsx("button",{type:"button",className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-4 py-1 sm:py-2 bg-slate-800 hover:bg-slate-700 text-slate-200 rounded transition-colors border border-slate-600 text-xs sm:text-sm",children:"Search & Replace"})]})}),e.jsx(j,{label:"Reply-To Email",...s("replyTo",{pattern:{value:/^\S+@\S+$/,message:"Invalid email address"}}),error:c.replyTo,placeholder:"Optional"}),e.jsxs("div",{className:"pt-2",children:[e.jsxs("button",{type:"button",onClick:()=>l(!t),className:"flex items-center gap-2 text-blue-400 hover:text-blue-300 text-sm font-medium",children:[e.jsx(L,{}),t?"Hide Advanced Settings":"Show Advanced Settings"]}),t&&e.jsxs("div",{className:"mt-4 p-3 sm:p-4 bg-slate-900/50 border border-slate-700 rounded space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Character Encoding"}),e.jsxs("select",{...s("encoding"),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm",children:[e.jsx("option",{value:"UTF-8",children:"UTF-8 [Bait]"}),e.jsx("option",{value:"US-ASCII",children:"US-ASCII"}),e.jsx("option",{value:"ISO-8859-1",children:"ISO-8859-1"}),e.jsx("option",{value:"WINDOWS-1256",children:"WINDOWS-1256 (Arabic)"}),e.jsx("option",{value:"SHIFT_JIS",children:"SHIFT_JIS (Japanese)"}),e.jsx("option",{value:"EUC-KR",children:"EUC-KR (Korean)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Transfer Encoding"}),e.jsxs("select",{...s("transferEncoding"),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm",children:[e.jsx("option",{value:"8bit",children:"8bit"}),e.jsx("option",{value:"7bit",children:"7bit"}),e.jsx("option",{value:"binary",children:"binary"}),e.jsx("option",{value:"quoted-printable",children:"quoted-printable"}),e.jsx("option",{value:"base64",children:"base64"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Custom Headers (JSON)"}),e.jsx("textarea",{...s("customHeaders"),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white h-20 font-mono text-xs",placeholder:'{"X-Custom-Header": "value", "X-Priority": "1"}'})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"MIME Message"}),e.jsx("textarea",{...s("mimeMessage"),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white h-24 font-mono text-xs",placeholder:"MIME formatted message content..."})]})]})]})]})},X=()=>{const{register:s,watch:i,setValue:c,formState:{errors:t}}=g(),[l,a]=b.useState(!1),m=i("contentType"),x=i("body"),n=i("encoding");return e.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-4 duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Step 4: Email Content"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-sm text-slate-400",children:"Encoding:"}),e.jsx("span",{className:"text-sm text-blue-400 font-mono",children:n})]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Message"}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-xs text-slate-500",children:"Encoding:"}),e.jsxs("span",{className:"text-xs text-blue-400 font-mono",children:[n," [Bait]"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("div",{className:"flex bg-slate-800 rounded p-1",children:["plain","html","mime"].map(r=>e.jsxs("label",{className:`
                flex items-center gap-2 px-4 py-2 cursor-pointer rounded text-sm
                ${m===r?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}
              `,children:[e.jsx("input",{type:"radio",...s("contentType"),value:r,className:"hidden"}),r==="mime"?"MIME Message":r.toUpperCase()]},r))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>a(!l),className:`
              flex items-center gap-2 px-3 py-1.5 rounded border text-sm transition-colors
              ${l?"bg-blue-600/20 border-blue-500 text-blue-400":"bg-slate-800 border-slate-700 text-slate-300"}
            `,children:l?e.jsxs(e.Fragment,{children:[e.jsx(k,{})," Edit"]}):e.jsxs(e.Fragment,{children:[e.jsx(C,{})," Preview"]})}),e.jsx("button",{type:"button",className:"flex items-center gap-2 px-3 py-1.5 bg-slate-800 border border-slate-700 text-slate-300 rounded text-sm hover:bg-slate-700 transition-colors",children:"Search & Replace"})]})]}),l&&m==="html"?e.jsx("div",{className:"w-full bg-white rounded p-4 h-96 overflow-y-auto text-black border border-slate-700",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:x}})}):e.jsxs(e.Fragment,{children:[e.jsx("textarea",{...s("body",{required:"Email content is required"}),className:"w-full bg-slate-950 border border-slate-700 rounded p-4 text-white h-96 font-mono text-sm focus:outline-none focus:border-blue-500",placeholder:m==="html"?"<html><body><h1>Hello World</h1><p>Your email content here...</p></body></html>":m==="mime"?`MIME-Version: 1.0
Content-Type: multipart/alternative;

--boundary
Content-Type: text/plain; charset=UTF-8

Plain text version...

--boundary
Content-Type: text/html; charset=UTF-8

<html>HTML version...</html>

--boundary--`:"Enter your plain text email content here..."}),t.body&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:t.body.message})]}),m==="mime"&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"MIME Message Editor"}),e.jsx("textarea",{...s("mimeMessage"),className:"w-full bg-slate-950 border border-slate-700 rounded p-4 text-white h-48 font-mono text-xs focus:outline-none focus:border-blue-500",placeholder:"Full MIME message with headers..."})]})]})},$=()=>{var l;const{register:s,watch:i,formState:{errors:c}}=g(),t=i();return e.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Step 5: Review & Send"}),e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-6 border border-slate-700 space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white border-b border-slate-700 pb-2",children:"Campaign Summary"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400 block",children:"Campaign Name"}),e.jsx("span",{className:"text-white",children:t.name||"Not set"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400 block",children:"Valid Recipients"}),e.jsx("span",{className:"text-green-400 font-bold",children:((l=t.recipientStats)==null?void 0:l.valid)||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400 block",children:"From"}),e.jsxs("span",{className:"text-white",children:[t.senderName||"Not set"," <",t.fromEmail||"Not set",">"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400 block",children:"Subject"}),e.jsx("span",{className:"text-white",children:t.subject||"Not set"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400 block",children:"Email Format"}),e.jsx("span",{className:"text-white uppercase",children:t.contentType||"html"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400 block",children:"Character Encoding"}),e.jsx("span",{className:"text-white font-mono",children:t.encoding||"UTF-8"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Schedule Send (Optional)"}),e.jsx("input",{type:"datetime-local",...s("scheduleDate"),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white appearance-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Throttling (Emails/Hour)"}),e.jsx("input",{type:"number",min:"1",...s("throttle",{min:{value:1,message:"Minimum 1"}}),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white",defaultValue:"100"})]})]}),e.jsxs("div",{className:"p-4 bg-slate-900/50 border border-slate-700 rounded",children:[e.jsx("h4",{className:"text-white font-medium mb-2",children:"Test Send"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"email",placeholder:"test@example.com",className:"flex-grow bg-slate-950 border border-slate-700 rounded p-2 text-white"}),e.jsx("button",{type:"button",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors",children:"Send Test"})]})]}),e.jsxs("div",{className:"flex gap-4 p-4 bg-blue-900/20 border border-blue-900/50 rounded-lg",children:[e.jsx(E,{className:"text-blue-400 text-xl mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-blue-200 font-medium",children:"Ready to Launch?"}),e.jsx("p",{className:"text-blue-400/80 text-sm",children:'Review all settings above. Once you click "Launch Campaign", the process will start immediately or at the scheduled time.'})]})]})]})},v=[{number:1,title:"Campaign Setup",fields:["name"]},{number:2,title:"Recipients",fields:["recipientStats","recipientsText"]},{number:3,title:"Sender Details",fields:["fromEmail","subject","replyTo"]},{number:4,title:"Content",fields:["body"]},{number:5,title:"Review & Send",fields:[]}],K=()=>{const s=F(),[i,{isLoading:c}]=P(),[t,l]=b.useState(1),a=M({mode:"onChange",defaultValues:{name:"",description:"",template:"",recipientsText:"",recipientStats:{total:0,valid:0,invalid:0,duplicates:0},senderName:"",senderNameEncoding:"reset",fromEmail:"",replyTo:"",subject:"",subjectEncoding:"reset",encoding:"UTF-8",transferEncoding:"8bit",customHeaders:"",contentType:"html",body:"",mimeMessage:"",scheduleDate:"",throttle:100,dataFile:"",totalSend:0,limitToSend:0,sleepTime:0,offerId:"",templateName:"",domain:"",waitTime:0,messageId:"",replyToSetting:"",xmailer:"",replyToEnabled:"no",spaceSendingEnabled:!1,spaceLimitToSend:0,spaceSleepTime:0,spaceOfferId:"",spaceTemplateName:"",spaceDomain:"",spaceWaitTime:0,spaceMessageId:"",spaceReplyTo:"",spaceXmailer:"",spaceXmailer2:"",spaceSending:"no"}}),{trigger:m,handleSubmit:x}=a,n=async()=>{const d=v.find(p=>p.number===t);if(await m(d.fields)){if(t===2){const p=a.getValues("recipientStats");if(!p||p.valid===0){a.setError("recipientStats",{type:"manual",message:"Please add at least one valid recipient"});return}}l(p=>Math.min(p+1,5))}},r=()=>{l(d=>Math.max(d-1,1))},o=async d=>{try{await i(d).unwrap(),y.success("Campaign created successfully!"),s("/campaigns")}catch(h){console.error(h),y.error("Failed to create campaign. Please try again.")}},u=()=>{switch(t){case 1:return e.jsx(T,{});case 2:return e.jsx(V,{});case 3:return e.jsx(H,{});case 4:return e.jsx(X,{});case 5:return e.jsx($,{});default:return e.jsx(T,{})}};return e.jsx(R,{...a,children:e.jsxs("div",{className:"max-w-5xl mx-auto pb-20",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-6",children:"Create New Campaign"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-1/2 left-0 w-full h-1 bg-slate-800 -translate-y-1/2 z-0 rounded"}),e.jsx("div",{className:"absolute top-1/2 left-0 h-1 bg-blue-600 -translate-y-1/2 z-0 rounded transition-all duration-300",style:{width:`${(t-1)/(v.length-1)*100}%`}}),e.jsx("div",{className:"relative z-10 flex justify-between",children:v.map(d=>e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:`
                      w-10 h-10 rounded-full flex items-center justify-center font-bold border-2 transition-colors duration-300
                      ${t>=d.number?"bg-blue-600 border-blue-600 text-white":"bg-slate-900 border-slate-700 text-slate-500"}
                    `,children:t>d.number?e.jsx(D,{}):d.number}),e.jsx("span",{className:`
                      text-xs font-medium
                      ${t>=d.number?"text-blue-400":"text-slate-600"}
                    `,children:d.title})]},d.number))})]})]}),e.jsx(q,{className:"min-h-[400px] shadow-2xl border-slate-800 bg-[#1e2329]",children:e.jsx("form",{onSubmit:x(o),children:u()})}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-slate-900/90 backdrop-blur border-t border-slate-800 z-50",children:e.jsxs("div",{className:"max-w-5xl mx-auto flex items-center justify-between",children:[e.jsxs("button",{type:"button",onClick:r,disabled:t===1,className:`
                flex items-center gap-2 px-6 py-2 rounded font-medium transition-colors
                ${t===1?"text-slate-600 cursor-not-allowed":"text-slate-300 hover:bg-slate-800 hover:text-white"}
              `,children:[e.jsx(U,{}),"Back"]}),e.jsx("div",{className:"flex gap-4",children:t===5?e.jsxs(S,{variant:"primary",onClick:x(o),isLoading:c,className:"bg-green-600 hover:bg-green-700 px-8",children:["Launch Campaign",e.jsx(E,{className:"ml-2"})]}):e.jsxs(S,{variant:"primary",type:"button",onClick:n,className:"px-8",children:["Next Step",e.jsx(A,{className:"ml-2"})]})})]})})]})})};export{K as default};
